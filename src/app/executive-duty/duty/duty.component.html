<div class="card">
    <div class="card-header py-1">
        <h6 class="m-0 font-weight-bold text-primary">Duty Assignment</h6>
    </div>
    <div class="card-body px-0 pb-3 pt-0">
    	<div class="form-horizontal card-body-scroll pt-3">
    		<div class="form-group row mr-0">
    			<label class="col-lg-8 col-md-8 col-sm-8 text-right col-xs-12 text-right">
    				<span class="count-stats">{{staffs.length}}</span>
    			</label>
    			<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 text-right">
    				<select class="form-control" [(ngModel)]="selectedService" (change)="getStaffStatus()">
						<option value="">-- Search --</option>
						<option value="Installation">Installation</option>
    					<option value="Service">Service</option>
    					<option value="OnLeave">OnLeave</option>
    				</select>
    			</div>
    		</div>
	    	<div class="table-responsive">
		        <table class="table table-bordered mb-0 border-0 w-100" cellspacing="0" rules="all">
				    <thead>
				        <tr>
				            <th class="text-center" valign="middle" width="50%">Name</th>
				            <th class="text-center" valign="middle" width="25%">Status</th>
				            <th class="text-center" valign="middle">
				            	<button type="button" class="mr-2 btn btn-xs btn-info min-w-35">S</button>
								<button type="button" class="mr-2 btn btn-xs btn-danger min-w-35">I</button>
								<button type="button" class="mr-2 btn btn-xs btn-primary min-w-35">L</button>
				            </th>
				        </tr>
				    </thead>
				    <tbody>
					    <tr *ngFor="let infos of staffs;let i = index">
					        <td>{{infos.first_name}} {{infos.last_name}}</td>
					        <td class="text-center">
					        	<span class="text-info" *ngIf="infos.status == 'Service'">{{infos.status}}</span>
					        	<span class="text-danger" *ngIf="infos.status == 'Installation'">{{infos.status}}</span>
					        	<span class="text-primary" *ngIf="infos.status == 'OnLeave'">{{infos.status}}</span>
					        </td>
					        <td class="text-center">
					        	<button type="button" (click)="updateStatus(i, 'Service')" class="mr-2 btn btn-xs btn-info min-w-35">S</button>
								<button type="button" (click)="updateStatus(i, 'Installation')" class="mr-2 btn btn-xs btn-danger min-w-35">I</button>
								<button type="button" (click)="updateStatus(i, 'OnLeave')" class="mr-2 btn btn-xs btn-primary min-w-35">L</button>
					        </td>
					    </tr>
					</tbody>
				</table>
			</div>
    	</div>
		<div class="w-100 pt-3 text-right border-top">
			<button (click)="saveStatus()" type="button" class="mr-2 btn btn-sm btn-save">Save</button>
		</div>
    </div>
</div>
<ngx-ui-loader></ngx-ui-loader>